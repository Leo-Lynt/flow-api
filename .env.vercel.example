# =============================================================================
# FLOW-FORGE API - VARIÁVEIS DE AMBIENTE PARA VERCEL
# =============================================================================
# Configure estas variáveis no Vercel Dashboard:
# https://vercel.com/[seu-projeto]/settings/environment-variables
#
# IMPORTANTE: Marque as variáveis sensíveis como "Sensitive" no Vercel
# =============================================================================

# -----------------------------------------------------------------------------
# NODE ENVIRONMENT
# -----------------------------------------------------------------------------
NODE_ENV=production
VERCEL=1

# -----------------------------------------------------------------------------
# DATABASE (MongoDB Atlas recomendado)
# -----------------------------------------------------------------------------
# OBRIGATÓRIO: Use MongoDB Atlas ou outro serviço gerenciado
# NÃO use MongoDB local - não funciona em serverless!
# Criar cluster: https://cloud.mongodb.com
MONGODB_URI=mongodb+srv://usuario:senha@cluster.mongodb.net/flow-forge?retryWrites=true&w=majority

# -----------------------------------------------------------------------------
# JWT SECRETS
# -----------------------------------------------------------------------------
# OBRIGATÓRIO: Gere chaves fortes e únicas
# Comando: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-jwt-secret-here-min-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-here-min-32-chars
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# -----------------------------------------------------------------------------
# CORS - ORIGENS PERMITIDAS
# -----------------------------------------------------------------------------
# Adicione o domínio do seu frontend em produção
# Exemplo: https://seu-app.vercel.app,https://outro-dominio.com
ALLOWED_ORIGINS=https://seu-frontend.vercel.app,http://localhost:5174

# -----------------------------------------------------------------------------
# TRUST PROXY (sempre true no Vercel)
# -----------------------------------------------------------------------------
TRUST_PROXY=true

# -----------------------------------------------------------------------------
# GOOGLE OAUTH (Opcional - se usar Google Auth)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://sua-api.vercel.app/api/oauth/google/callback
FRONTEND_URL=https://seu-frontend.vercel.app

# -----------------------------------------------------------------------------
# GOOGLE API KEY (Opcional - para Google Sheets/Analytics)
# -----------------------------------------------------------------------------
# Criar em: https://console.cloud.google.com/apis/credentials
GOOGLE_API_KEY=your-google-api-key

# -----------------------------------------------------------------------------
# ENCRYPTION KEY
# -----------------------------------------------------------------------------
# OBRIGATÓRIO: Chave de 32 bytes para criptografia de dados sensíveis
# Comando: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-encryption-key-32-bytes-hex

# -----------------------------------------------------------------------------
# SMTP (Opcional - se usar envio de emails)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# -----------------------------------------------------------------------------
# GITHUB TOKEN (Opcional - se usar GitHub Packages)
# -----------------------------------------------------------------------------
# Criar em: https://github.com/settings/tokens
# Scopes: write:packages, read:packages, repo
GITHUB_TOKEN=your_github_token_here

# =============================================================================
# NOTAS IMPORTANTES:
# =============================================================================
#
# 1. SCHEDULER/CRON JOBS:
#    - Schedules automáticos NÃO funcionam em serverless
#    - Configure Vercel Cron (próxima fase) ou use serviço externo
#
# 2. LOGS:
#    - Logs de arquivo não funcionam (filesystem read-only)
#    - Use Vercel Dashboard para ver logs
#    - Ou configure serviço de logging externo (Datadog, LogTail)
#
# 3. WEBSOCKETS:
#    - Socket.io NÃO funciona em Vercel Functions padrão
#    - Use Vercel Edge Functions ou serviço externo (Pusher, Ably)
#
# 4. UPLOADS DE ARQUIVO:
#    - Filesystem é read-only exceto /tmp (temporário)
#    - Use cloud storage (S3, Cloudinary) para uploads permanentes
#
# 5. CONEXÕES DE BANCO:
#    - Sempre use MongoDB Atlas ou serviço gerenciado
#    - Connection pooling já está configurado no código
#
# =============================================================================
